print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
if (k=2){
break
}
k=k+1
}
for (i in anims){
k+=1
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
if (k=2){
break
}
}
for (i in anims){
k+=1
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
if (k=2){
break
}
}
for (i in anims){
k= k+1
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
if (k=2){
break
}
}
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
break
}
head(rankanims)
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
break
}
length(rankanims)
anims <- unique(datsm$aa)
datsm <- read.table("small.txt",header = TRUE)
head(datsm)
anims <- unique(datsm$aa)
rankanims <- vector("list",length(anims))
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
break
}
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[i] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
}
ak <- list(4)
ak[[1]] <- c(1,2)
print(ak)
ak[1] <- c(1,2)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
head(anims)
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[i]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
head(rankanims)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
head(rankanims)
rm(rankanims)
head(rankanims)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[i]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
length(anims)
rankanims <- list(length(anims))
head(rankanims)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- vector("list",length(anims))
head(rankanims)
for (i in anims){
print(i)
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[i]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- vector("list",length(anims))
noanims <- 0
for (i in anims){
noanims+=1
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[noanims]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
for (i in anims){
noanims <- noanims+1
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[noanims]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
noanims <- 0
for (i in anims){
noanims <- noanims+1
datspec <- datsm[datsm$aa==i,]
print(datspec)
rankanims[[noanims]] <- rank(datspec$ejak_nr_SG)
print(rank(datspec$ejak_nr_SG))
print(rankanims[[1]])
break
}
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
noanims <- 0
for (i in anims){
noanims <- noanims+1
datspec <- datsm[datsm$aa==i,]
rankanims[[noanims]] <- rank(datspec$ejak_nr_SG)
}
head(rankanims)
totrank <- do.call(rbind,rankanims)
head(totrank)
head(rankanims)
typeof(rankanims)
totrank <- do.call(c(),rankanims)
totrank <- do.call(c,rankanims)
head(totrank)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
noanims <- 0
for (i in anims){
noanims <- noanims+1
datspec <- datsm[datsm$aa==i,]
rankanims[[noanims]] <- rank(datspec$ejak_nr_SG,ties="random")
}
totrank <- do.call(c,rankanims)
tail(totrank)
tail(totrank,n=100)
tail(datsm)
head(datsm)
head(datsm,n=100)
head(datsm,n=500)
totrank[80:90]
datsm$totrank <- do.call(c,rankanims)
datsm <- read.table("small.txt",header = TRUE)
anims <- unique(datsm$aa)
rankanims <- list(length(anims))
for (i in seq_along(anims)){
datspec <- datsm[datsm$aa==anims[i],]
rankanims[[i]] <- rank(datspec$ejak_nr_SG,ties="random")
}
datsm$totrank <- do.call(c,rankanims)
datsm$totrank <- do.call(c,rankanims)
head(datsm,n=100)
pig_nf <- read.table(pipe("pbpaste"),header=FALSE)
head(pig_nf)
colSums(pig_nf)
pig_nf_beag <- read.table(pipe("pbpaste"),header=FALSE)
colSums(pig_nf_beag)
colMeans(pig_nf_beag)
colMeans(pig_nf)
colnames(pig_nf) <- c("chr","snp","indel","multi","tstv")
colnames(pig_nf_beag) <- c("chr","snp","indel","multi","tstv")
write.table(pig_nf,file="pig_raw.stats",quote = FALSE)
getwd(9)
getwd()
write.table(pig_nf,file="pig_raw_stats.txt",quote = FALSE)
write.table(pig_nf_beag,file="pig_filbeagle_stats.txt",quote = FALSE)
#### prop of hd snp
gatk <- 643413-32309
graph <- 645352-32309
sam <- 644382-32309
allhd <- 647844-32309
gatk/allhd
graph/allhd
sam/allhd
#### prop of hd snp
sam <- 643413-32309
graph <- 645352-32309
gatk <- 644382-32309
allhd <- 647844-32309
gatk/allhd
graph/allhd
sam/allhd
f1  <- 639935-32309
f2  <- 643176-32309
f3  <- 640785-32309
f4  <- 647844-32309
f1/f4
f2/f4
f3/f4
32033/32309
32031/32309
32071/32309
graph  <- 31941
gatk  <- 31960
sam  <- 31956
all  <- 32309
graph/all
gatk/all
sam/all
gatk  <- 644382
sam  <- 645352
graph  <- 646745
all  <- 647844
gatk/all
sam/all
graph/all
### all raw
sam_raw  <- 643413
graph_raw  <- 645352
gatk_raw  <- 644382
all_raw  <- 647844
sam_raw/all_raw
graph_raw/all_raw
gatk_raw/all_raw
### filtered
gatk_filter  <- 643176
graph_filter  <- 639935
sam_filter  <- 640785
all_raw  <- 647844
gatk_filter/all_raw
graph_filter/all_raw
sam_filter/all_raw
### 50k raw
sam_small  <- 32033
gatk_small  <- 32026
graph_small  <- 32071
all_small  <- 32309
sam_small/all_small
gatk_small/all_small
graph_small/all_small
### 50k filter
graph_filter_small  <- 31941
gatk_filter_small  <- 31960
sam_filter_small  <- 31956
all_small  <- 32309
graph_filter_small/all_small
gatk_filter_small/all_small
sam_filter_small/all_small
library(tidyverse)
?read_table
lo <- c(1,2,3)
lo %<>% sqrt
library(magrittr)
lo %<>% sqrt
lo
help(cut)
head(ak)
head(ak)
head(ak,n=10)
capabilities()
plot(c(1,2,3))
x11()
dev.off()
Sys.getenv("DISPLAY")
options(device="quartz")
plot(c(1,2,3))
dev.off()
plot(c(1,2,3))
plot(c(1,2,3))
Sys.setenv("DISPLAY"=":0")
plot(c(1,2,3))
quartz()
plot(c(1,2,3))
plot(c(4,5,6))
dev.off()
cpi <- ak %>% group_by(aligner,bin) %>%
summarise(mq=mean(mq),
sc=mean(score),
cor=sum(correct==0),
cn=n())
cpk <- cpi[cpi$bin != "(50,60]"]
head(cpi)
Sys.getenv("DISPLAY")
Sys.getenv("DISPLAY")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
Sys.getenv("DISPLAY")
quartz()
Sys.getenv()
Sys.getenv("DISPLAY")
quartz()
Sys.getenv("DISPLAY")
Sys.getenv("DISPLAY")
plot(c(1,2,3))
plot(c(1,2,3))
quartz()
Sys.getenv("DISPLAY")
Sys.getenv("DISPLAY")
quartz()
Sys.getenv("DISPLAY")
Sys.getenv("DISPLAY")
quartz()
plot(c(1,2,3))
Sys.getenv("DISPLAY")
Sys.getenv("DISPLAY"="localhost:0.0")
Sys.setenv("DISPLAY"="localhost:0.0")
Sys.getenv("DISPLAY")
quartz()
quartz()
quartz()
# maf_graph_plot ----------------------------------------------------------
dmaf <- read.table("bsw_maf.txt ",header=FALSE)
# maf_graph_plot ----------------------------------------------------------
library(tidyverse)
sumcor <- cpi %>% group_by(mdl,salign) %>%
summarise(mk=sum(cor))
# maf_graph_plot ----------------------------------------------------------
library(tidyverse)
#iris %>% group_by(Species) %>% top_n(n=1,Sepal.Length)
help(write)
summarise(mk=sum(cor))
library("svglite")
outgraph  <- paste0("map_stat/", graph, "_", gam, "_graph.pdf")
outer("+",1:3,1:3)
outer("+",1:3,1:3)
?outer
outer(1:3,1:3,"+")
mapply("+",1:3,1:3)
install.packages("data.table")
library(data.table)
?freqd
?fread
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document')
source('~/Google_Drive/paper/paper_vg/analysis/test/plot_roc/Untitled.R')
source('~/Google_Drive/paper/paper_vg/analysis/test/plot_roc/Untitled.R')
source('~/Google_Drive/paper/paper_vg/analysis/test/plot_roc/Untitled.R')
quartz()
quartz()
quartz()
source('~/Google_Drive/paper/paper_vg/analysis/test/plot_roc/plot_roc.R', echo=TRUE)
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
#Learn data table
library(data.table)
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT[3:5]
DT
DT[V2=="A"]
DT[V2 %in% c("A","B")]
DT[,V2]
#select column
DT[3:5,V2]
DT[,.(V2,V1)]
DT[,sum(V1)]
DT[,.(sum(V1),sd(V3))]
DT[,.(sumv1=sum(V1),sdv3=sd(V3))]
#doing by group
DT[,.(v4.sum=sum(V4)),V1]
#doing by group
DT[,.(v4.sum=sum(V4))by=V1]
#doing by group
DT[,.(v4.sum=sum(V4)),by=V1]
#doing by group
DT[,
.(v4.sum=sum(V4)),
V1]
DT[,
.(v4.sum=sum(V4)),
.(V1,V2)]
DT[,
.(v4.sum=sum(V4)),
sign(V1-1)]
DT[,
.(v4.sum=sum(V4)),
sign(V1-2)]
sign(-10)
sign(-0)
sign(100)
#with name for the custom grouping
DT[,
.(v4.sum=sum(V4)),
.(gr_sign=sign(V1-2))]
DT[1:5,
.(v4.sum=sum(V4)),
.(gr_sign=sign(V1-2))]
# count number for each group
DT[,
.N,
.(V1,V2)]
DT[,V1:=round(exp(V1),2)]
DT
DT[,V5:=round(exp(V1),2)]
DT[,V5:=round(exp(V1),2)][]
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT[,V5:=round(exp(V1),2)][]
DT[,V1:=NULL]
DT[,V1:=NULL][]
DT[,c("V2","V3"):=NULL][]
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
DT <- data.table(V1=c(1L,2L),
V2=LETTERS[1:3],
V3=round(rnorm(4),4),
V4=1:12)
#using setkey for select column where row will be filtered
setkey(DT,V2)
DT["A"]
DT[c("A","C")]
DT[c("A","D")]
DT[c("A","D"),nomatch=0]
DT[c("A","C"),sum(V4)]
DT[c("A","C"),
sum(V4),
by=.EACHI]
DT[.N]
DT[.N-1]
DT[,.N]
DT[,print(.SD),V2]
# select first and last row of grouped
DT[,
.SD[c(1,.N)],
V2]
DT[,
lapply(.SD,sum),
V2]
DT[,
lapply(.SD,sum),
V2,
.SDcols=c("V3","V4")]
DT[,
lapply(.SD,sum),
V2,
.SDcols=c("V3")]
ak <- iris$Species
str(ak)
class(ak)
ak <- iris["Species"]
class(ak)
ak <- iris[["Species"]]
class(ak)
library(tidyverse, warn.conflicts = FALSE)
library(magrittr)
mtcars %>% split(.$cyl)
quart()
quartz()
packageVersion("ggplot2")
packageVersion("tidyverse")
quartz()
# compare ref and non-ref
#/cluster/work/pausch/danang/gr/ob_bqsr/simulation_genome/breeds_specific/graph_exclude/mapping_result
dir(pattern="stats.tsv")
library(tidyverse)
rmarkdown::render_site()
setwd("~/Google_Drive/other_project/2019/danangcrysnanto.github.io")
rmarkdown::render_site()
rmarkdown::render_site()
